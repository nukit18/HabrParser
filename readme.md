# Habr Article Parser

Парсер статей с сайта [Habr](https://habr.com).

## Важная информация

Перед запуском контейнеров **обязательно** измените файл `.env.example` на `.env`. Сами переменные в нем можно не менять, но, если необходимо, можно задать свои значения.

- Логин и пароль для админки Django задаются в файле `.env`.
- По умолчанию они следующие:
  - **Логин**: `admin`
  - **Пароль**: `admin`

## Запуск проекта

Чтобы запустить проект, выполните следующие команды:

1. Переименуйте файл `.env.example` в `.env`.
   
2. Запустите сборку и запуск контейнеров:

    ```bash
    docker compose up --build -d
    ```

## Доступ к проекту

После запуска контейнеров:

- Приложение будет доступно по адресу: `http://localhost:8000`.
- Админка Django будет доступна по адресу: `http://localhost:8000/admin`.

### Вход в админку

Используйте следующие данные для входа в админку:

- Логин: `admin`
- Пароль: `admin` (если не изменяли в `.env`).

## Примечания

- Не забудьте изменить логин и пароль для администратора в файле `.env`, если используете проект на реальном сервере.
- Логи собираются автоматически и выводятся в консоль при запуске контейнеров.

## Для начала сбора ссылок по Хабу нужно задать Модель HabrHubs (изначально в контейнере создаются 3)

Модель `HabrHubs` используется для настройки и управления процессом сбора ссылок с сайта Habr. При добавлении новых записей через админку Django, необходимо заполнить следующие поля:

- **`name`**: Название хаба.
- **`hub_link`**: Ссылка на хаб.
- **`check_interval_secs`**: Интервал проверки в секундах. Определяет, как часто будет происходить проверка хаба.
- **`last_check_at`**: Дата и время последней проверки.
- **`next_check_at`**: Дата и время следующей проверки.
- **`status`**: Статус хаба.
- **`max_threads`**: Максимальное количество потоков для парсинга. Определяет, сколько потоков будет использоваться при сборе данных (`default=5`).
- **`count_links_per_page`**: Количество ссылок на странице. Определяет, сколько ссылок получать на одной странице хаба для сбора по АПИ (`default=50`).
- **`max_pages`**: Максимальное количество страниц для парсинга. Определяет, сколько страниц будет просматриваться (`default=10`).
- **`batch_size`**: Размер батча при сборе данных. Определяет, сколько ссылок сохраняется за один раз (`default=100`).
